---
title: "定时任务模块"
description: "顾名思义，就是设置定时任务的"
---

## 定时任务模块

顾名思义，就是设置定时任务的

### 指令列表

- **!add_schedule**
    - 用于添加定时消息任务
    - 参数：有两个，为 **\<scope\>**、**\<time\>**
        - **scope**：定时任务生效范围，选项有**this**（本群，**需要至少是本群机器人管理员**）和**all**（全部群，**需要全局机器人管理员**）
        - **time**：定时任务执行时间，格式为**h:mm**
- **!delete_schedule**
    - 用于删除定时消息任务
    - 参数：有两个，为 **\<index_type\>**、**\<index\>**
        - **index_type**：索引类型，有**bytime**（通过执行时间查找）和**byid**（通过任务ID查找）
        - **index**：上述类型的索引，比如**114514**（任务ID）或者**11:45**（执行时间）
        - 会优先查找**本群任务**（删除需要至少是本群机器人管理员），如果本群任务**没有定义**，则尝试查找**全局任务**（删除需要全局机器人管理员）
- **!modify_schedule**
    - 用于修改定时消息任务的内容
    - 参数：有两个，为 **\<index_type\>**、**\<index\>**
        - **index_type**：索引类型，有**bytime**（通过执行时间查找）和**byid**（通过任务ID查找）
        - **index**：上述类型的索引，比如**114514**（任务ID）或者**11:45**（执行时间）
        - 会优先查找**本群任务**（删除需要至少是本群机器人管理员），如果本群任务**没有定义**，则尝试查找**全局任务**（删除需要全局机器人管理员）
- **!toggle_schedule**
    - 用于修改定时消息任务的状态
    - 参数：有三个，为 **\<index_type\>**、**\<index\>**、**\<enabled\>**
        - **index_type**：索引类型，有**bytime**（通过执行时间查找）和**byid**（通过任务ID查找）
        - **index**：上述类型的索引，比如**114514**（任务ID）或者**11:45**（执行时间）
        - **enabled**：是否启用任务（**true**或者**false**）
        - 会优先查找**本群任务**（删除需要至少是本群机器人管理员），如果本群任务**没有定义**，则尝试查找**全局任务**（删除需要全局机器人管理员）